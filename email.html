<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Satisfaction Survey</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; background-color: #f4f4f4; margin: 0; padding: 20px; }
        .email-container { max-width: 600px; margin: 0 auto; background-color: #ffffff; padding: 30px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .logo { display: block; margin: 0 auto 30px auto; max-width: 180px; }
        .intro-text { color: #555555; font-size: 16px; line-height: 1.6; text-align: center; }
        .survey-section { background-color: #f9f9f9; padding: 25px; margin: 30px 0; border-radius: 6px; text-align: center; }
        .survey-question { font-size: 18px; font-weight: 600; color: #333333; margin-top: 0; margin-bottom: 25px; }
        .rating-buttons { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; }
        .rating-button { display: flex; align-items: center; justify-content: center; width: 44px; height: 44px; border: 1px solid #dddddd; border-radius: 50%; background-color: #ffffff; color: #007bff; font-size: 18px; font-weight: bold; cursor: pointer; text-decoration: none; transition: background-color 0.2s, color 0.2s; }
        .rating-button:hover { background-color: #007bff; color: #ffffff; }
        .satisfaction-labels { display: flex; justify-content: space-between; font-size: 14px; color: #777777; padding: 0 10px; }
        .footer { text-align: center; margin-top: 30px; font-size: 12px; color: #aaaaaa; }
        .footer-link { color: #007bff; text-decoration: none; }
    </style>
</head>
<body>

    <div class="email-container">
        <img src="logo.png" alt="loveholidays logo" class="logo">
        <p class="intro-text">
            Thank you for contacting loveholidays today. We are working hard to deal with all of our customer enquiries as efficiently as possible and to help us improve our service, we'd love it if you could spare a couple of minutes to answer a few questions
        </p>
        <div class="survey-section">
            <p class="survey-question">
                How satisfied were you with the customer service provided by the Adviser you spoke with today?
            </p>
            <div class="rating-buttons">
                </div>
            <div class="satisfaction-labels">
                <span>Very dissatisfied</span>
                <span>Very satisfied</span>
            </div>
        </div>
        <div class="footer">
            <a href="#" class="footer-link">Unsubscribe</a>
            <span style="margin: 0 10px;">|</span>
            <span>Powered by Infobip</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const email = urlParams.get('email');
            const ratingButtonsContainer = document.querySelector('.rating-buttons');

            if (!email) {
                console.error("Email parameter is missing from the URL.");
                ratingButtonsContainer.innerHTML = '<p style="color: red;">Error: Could not load survey links.</p>';
                return;
            }

            // Create 5 rating buttons as links
            for (let i = 1; i <= 5; i++) {
                const link = document.createElement('a');
                link.href = `form.html?rating=${i}&email=${encodeURIComponent(email)}&formId=740d5659-6972-4d80-9800-850ba9d0b3d4`;
                link.className = 'rating-button';
                link.textContent = i;
                ratingButtonsContainer.appendChild(link);
            }
        });
    </script>

</body>
</html>